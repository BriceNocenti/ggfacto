% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geometrical_data_analysis.R
\name{ggmca}
\alias{ggmca}
\title{Readable, Interactive and Beautiful graph for MCA}
\usage{
ggmca(
  res.mca = res.mca,
  sup_vars,
  tooltip_vars_1lv,
  tooltip_vars,
  axes = c(1, 2),
  xlim,
  ylim,
  cleannames = TRUE,
  text_repel = FALSE,
  out_lims_move = FALSE,
  title,
  type = c("text", "points", "labels", "active_vars_only", "numbers"),
  keep_levels,
  discard_levels,
  profiles = TRUE,
  profiles_tooltip_discard = "^Pas |Non |Not |No",
  cah,
  max_profiles,
  nb_char_for_color = rep(0, length(sup_vars)),
  shift_colors = 0,
  colornames_recode,
  text_size = 3,
  size_scale_max = 8,
  dist_labels = c("auto", 0.04),
  right_margin = 0
)
}
\arguments{
\item{res.mca}{An object created with \code{FactoMineR::\link[FactoMineR]{MCA}}.}

\item{sup_vars}{A character vectors of supplementary qualitative variables
to print. They must have been passed in \code{\link[FactoMineR]{MCA}} before.}

\item{tooltip_vars_1lv}{A character vectors of variables, whose first level
(if character/factor) or weighted_mean (if numeric) will be added
at the top of interactive tooltips.}

\item{tooltip_vars}{A character vector of variables (character/factors),
whose complete levels will be added at the bottom of interactive tooltips.}

\item{axes}{The axes to print, as a numeric vector of length 2.}

\item{xlim, ylim}{Horizontal and vertical axes limits,
as double vectors of length 2.}

\item{cleannames}{Set to \code{TRUE} to clean levels names, by removing
prefix numbers like \code{"1-"}, and text in parentheses.}

\item{text_repel}{When \code{TRUE} the graph is not interactive anymore,
but the resulting image is better to print because points and labels don't
overlaps. It uses \code{ggrepel::\link[ggrepel]{geom_text_repel}}.}

\item{out_lims_move}{When \code{TRUE}, the points out of \code{xlim} or
\code{ylim} are not removed, but moved at the edges of the graph.}

\item{title}{The title of the graph.}

\item{type}{Determines the way \code{sup_vars} are printed.
  \itemize{
  \item \code{"text"} : colored text
  \item \code{"points"} : colored points with text legends
  \item \code{"labels"} : colored labels
  \item \code{"active_vars_only"} : no \code{sup_vars}
  \item \code{"numbers"} : colored labels of prefix numbers, with small names
}}

\item{keep_levels}{A character vector of variables levels to keep : others
will be discarded.}

\item{discard_levels}{A character vector of variables levels to discard.}

\item{profiles}{When \code{TRUE}, profiles of answersx are drawn in the back
of the graph with light-grey points. When hovering with mouse, the answers of
individuals to active variables will appears. If \code{cah} is provided,
to hover near one point will color all the points of the same
 \code{\link[FactoMineR]{HCPC}} class.}

\item{profiles_tooltip_discard}{A regex pattern to remove useless levels
among interactive tooltips for profiles of answers (ex. : levels expressing
"no" answers).}

\item{cah}{A variable made with \code{\link[FactoMineR]{HCPC}}, to link
the answers-profiles points who share the same ICPC class (will be colored
together at mouse hover).}

\item{max_profiles}{The maximum number of profiles points to print.}

\item{nb_char_for_color}{If \code{sup_vars} are prefixed with numbers, the
number of characters to use to create classes that will be used to add
colors to points.}

\item{shift_colors}{Change colors of the \code{sup_vars} points.}

\item{colornames_recode}{A named character vector with
\code{\link[forcats]{fct_recode}} style to rename the levels of the color
variable if needed (levels used for colors are printed in console message
whenever the function is used).}

\item{text_size}{Size of text.}

\item{size_scale_max}{Size of points.}

\item{dist_labels}{When \code{type = points}, the distance of labels
from points.}

\item{right_margin}{A margin at the right, in cm. Useful to read tooltips
over points placed at the right of the graph without formatting problems.}
}
\value{
A \code{\link[ggplot2]{ggplot}} object to be printed in the
RStudio Plots pane. Possibility to add other gg objects with \code{+}.
Sending the result through \code{\link{ggout}} will draw the
interactive graph in the Viewer pane using \code{\link{ggiraph}}.
}
\description{
A readable, complete and beautiful graph for multiple
correspondence analysis made with \code{FactoMineR::\link[FactoMineR]{MCA}}.
Interactive tooltips, appearing when  hovering near points with mouse,
allow to keep in mind many important data (tables of active variables,
and additionnal chosen variables) while reading the graph.
Profiles of answers (from the graph of "individuals") are drawn in the back,
and can be linked to \code{FactoMineR::\link[FactoMineR]{HCPC}} classes.
Since it is made in the spirit of \code{\link{ggplot2}}, it is possible to
change theme or add another plot elements with \code{+}. Then, interactive
tooltips won't appear until you pass the result throught \code{\link{ggout}}.
}
\examples{
data(tea, package = "FactoMineR")
res.mca <- FactoMineR::MCA(tea, quanti.sup = 19, quali.sup = c(20:36), graph = FALSE)

res.mca \%>\%
  ggmca(sup_vars = c("SPC", "age_Q"), ylim = c(NA, 1.2)) \%>\%
  ggout()        #to make the graph interactive
}
